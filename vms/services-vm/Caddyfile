https://{REPLACE_ME_DRAWIO} {
        reverse_proxy localhost:8080

        encode gzip zstd

        log {
                output file /var/log/caddy/drawio.log
                format json
        }

        header {
                Strict-Transport-Security "max-age=31536000; includeSubDomains"
                X-Frame-Options "SAMEORIGIN"
                X-Content-Type-Options "nosniff"
        }
}

http://{REPLACE_ME_DRAWIO} {
        redir https://{REPLACE_ME_DRAWIO}{uri} permanent
}

https://{REPLACE_ME_PLANE} {
        reverse_proxy localhost:3001 {
                header_up Upgrade {http.request.header.Upgrade}
                header_up Connection {http.request.header.Connection}
        }

        request_body {
                max_size 10MB
        }

        encode gzip zstd

        log {
                output file /var/log/caddy/plane.log
                format json
        }

        header {
                Strict-Transport-Security "max-age=31536000; includeSubDomains"
                X-Frame-Options "SAMEORIGIN"
                X-Content-Type-Options "nosniff"
        }
}

https://{REPLACE_ME_BASEROW} {
        reverse_proxy localhost:8585 {
                header_up Upgrade {http.request.header.Upgrade}
                header_up Connection {http.request.header.Connection}
        }

        request_body {
                max_size 100MB
        }

        encode gzip zstd

        log {
                output file /var/log/caddy/baserow.log
                format json
        }

        header {
                Strict-Transport-Security "max-age=31536000; includeSubDomains"
                X-Frame-Options "SAMEORIGIN"
                X-Content-Type-Options "nosniff"
        }
}